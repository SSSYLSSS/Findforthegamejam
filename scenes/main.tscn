[gd_scene load_steps=17 format=4 uid="uid://b7rr7xpc8u3k4"]

[ext_resource type="PackedScene" uid="uid://br2nbmx2oeawv" path="res://scenes/player.tscn" id="1_o5qli"]
[ext_resource type="Script" uid="uid://dww8lfalh5rjj" path="res://scenes/beginscene.gd" id="1_tbgi4"]
[ext_resource type="Texture2D" uid="uid://ck87bghdnh0kk" path="res://assets/emoji/emoji.png" id="3_tefeu"]
[ext_resource type="PackedScene" uid="uid://ba6u3w4jkqvmd" path="res://scenes/force_core.tscn" id="4_jyhfs"]
[ext_resource type="FontFile" uid="uid://73q660wrssg2" path="res://assets/fonts/IPix中文像素字体.ttf" id="4_o6xl0"]
[ext_resource type="Texture2D" uid="uid://c75ucjcgig12c" path="res://assets/canvas/tilemap/TILEMAP1forChapter1.png" id="7_o6xl0"]
[ext_resource type="PackedScene" uid="uid://de5ua6mc7lko2" path="res://scenes/trap.tscn" id="7_tipki"]
[ext_resource type="PackedScene" uid="uid://ce7dx2hhim5de" path="res://scenes/death_zone.tscn" id="8_85g3d"]
[ext_resource type="Resource" uid="uid://b5ucvj7gekvxr" path="res://assets/spwan/chapter_1.tres" id="9_85g3d"]

[sub_resource type="AtlasTexture" id="AtlasTexture_tefeu"]
atlas = ExtResource("3_tefeu")
region = Rect2(48, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_85g3d"]
atlas = ExtResource("3_tefeu")
region = Rect2(0, 16, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_tipki"]
atlas = ExtResource("3_tefeu")
region = Rect2(32, 0, 16, 16)

[sub_resource type="SpriteFrames" id="SpriteFrames_85g3d"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_tefeu")
}],
"loop": true,
"name": &"confusing",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_85g3d")
}],
"loop": true,
"name": &"died",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_tipki")
}],
"loop": true,
"name": &"sad",
"speed": 5.0
}]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_o6xl0"]
texture = ExtResource("7_o6xl0")
14:6/0 = 0
14:6/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
16:6/0 = 0
16:6/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
14:8/0 = 0
14:8/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
16:8/0 = 0
16:8/0/probability = 0.32
16:8/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
4:10/0 = 0
6:10/0 = 0
12:5/size_in_atlas = Vector2i(1, 2)
12:5/0 = 0
12:5/0/texture_origin = Vector2i(0, 8)
12:5/0/physics_layer_0/polygon_0/points = PackedVector2Array(8, -8, 8, 8, -8, 8, -8, -8)
12:8/size_in_atlas = Vector2i(1, 3)
12:8/0 = 0
12:8/0/texture_origin = Vector2i(0, -16)
12:8/0/physics_layer_0/polygon_0/points = PackedVector2Array(8, -8, 8, 8, 4, 12, 0, 28, -4, 12, -8, 8, -8, -8)
10:8/size_in_atlas = Vector2i(1, 3)
10:8/0 = 0
10:8/0/texture_origin = Vector2i(0, -16)
10:8/0/physics_layer_0/polygon_0/points = PackedVector2Array(8, -8, 8, 8, 4, 4, -4, 4, -8, 8, -8, -8)
17:6/size_in_atlas = Vector2i(2, 3)
17:6/0 = 0
17:6/0/texture_origin = Vector2i(8, 0)
17:6/0/physics_layer_0/polygon_0/points = PackedVector2Array(8, -8, 8, 8, -8, 8, -8, -8)
19:7/size_in_atlas = Vector2i(2, 1)
19:7/0 = 0
19:7/0/texture_origin = Vector2i(8, 0)
19:7/0/physics_layer_0/polygon_0/points = PackedVector2Array(8, -8, 8, 8, -8, 8, -8, -8)
21:9/size_in_atlas = Vector2i(2, 2)
21:9/0 = 0
21:9/0/texture_origin = Vector2i(8, -8)
21:9/0/physics_layer_0/polygon_0/points = PackedVector2Array(8, -8, 8, 8, -8, 8, -8, -8)
20:11/0 = 0
20:11/0/physics_layer_0/polygon_0/points = PackedVector2Array(8, -8, 8, 8, -8, 8, -8, -8)
24:9/size_in_atlas = Vector2i(1, 2)
24:9/0 = 0
24:9/0/texture_origin = Vector2i(0, -8)
24:9/0/probability = 0.32
24:9/0/physics_layer_0/polygon_0/points = PackedVector2Array(8, -8, 8, 8, 4, 4, -4, 4, -8, 8, -8, -8)
24:11/size_in_atlas = Vector2i(1, 2)
24:11/0 = 0
24:11/0/texture_origin = Vector2i(0, -8)
24:11/0/physics_layer_0/polygon_0/points = PackedVector2Array(8, -8, 8, 8, -8, 8, -8, -8)
26:9/size_in_atlas = Vector2i(1, 2)
26:9/0 = 0
26:9/0/texture_origin = Vector2i(0, -8)
26:9/0/physics_layer_0/polygon_0/points = PackedVector2Array(8, -8, 8, 0, 4, 8, -4, 4, -8, 8, -8, -8)
28:11/size_in_atlas = Vector2i(1, 2)
28:11/0 = 0
28:11/0/texture_origin = Vector2i(0, -8)
28:11/0/physics_layer_0/polygon_0/points = PackedVector2Array(8, -8, 8, 0, 4, 8, -8, 8, -8, -8)
30:6/size_in_atlas = Vector2i(2, 3)
30:6/0 = 0
30:6/0/texture_origin = Vector2i(-8, 0)
30:6/0/physics_layer_0/polygon_0/points = PackedVector2Array(8, -8, 8, 8, -8, 8, -8, -8)
28:7/size_in_atlas = Vector2i(2, 1)
28:7/0 = 0
28:7/0/texture_origin = Vector2i(-8, 0)
28:7/0/physics_layer_0/polygon_0/points = PackedVector2Array(8, -8, 8, 0, 4, 4, 8, 8, -8, 8, -8, -8)
26:7/size_in_atlas = Vector2i(2, 1)
26:7/0 = 0
26:7/0/texture_origin = Vector2i(-8, 0)
26:7/0/physics_layer_0/polygon_0/points = PackedVector2Array(8, -8, 4, -4, 4, 4, 8, 8, -8, 8, -8, -8)
23:6/size_in_atlas = Vector2i(3, 2)
23:6/0 = 0
23:6/0/texture_origin = Vector2i(0, 8)
23:6/0/physics_layer_0/polygon_0/points = PackedVector2Array(8, -8, 8, 8, -8, 8, -8, -8)
21:4/size_in_atlas = Vector2i(2, 2)
21:4/0 = 0
21:4/0/texture_origin = Vector2i(8, 8)
21:4/0/physics_layer_0/polygon_0/points = PackedVector2Array(8, -8, 8, 8, -8, 8, -8, -8)
20:2/size_in_atlas = Vector2i(1, 2)
20:2/0 = 0
20:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(8, 0, 8, 16, -4, 16, -8, 12, -4, 0)
23:0/size_in_atlas = Vector2i(3, 2)
23:0/0 = 0
23:0/0/texture_origin = Vector2i(0, 8)
23:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(8, -8, 8, 8, -8, 8, -8, -8)
24:2/size_in_atlas = Vector2i(1, 2)
24:2/0 = 0
24:2/0/texture_origin = Vector2i(0, 8)
24:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(8, -8, 8, 8, -8, 8, -8, -8)
24:4/size_in_atlas = Vector2i(1, 2)
24:4/0 = 0
24:4/0/texture_origin = Vector2i(0, 8)
24:4/0/physics_layer_0/polygon_0/points = PackedVector2Array(8, -8, 8, 8, -8, 8, -8, -8)
26:4/size_in_atlas = Vector2i(2, 2)
26:4/0 = 0
26:4/0/texture_origin = Vector2i(-8, 8)
26:4/0/physics_layer_0/polygon_0/points = PackedVector2Array(8, -8, 8, 8, -8, 8, -8, -8)
28:2/size_in_atlas = Vector2i(2, 2)
28:2/0 = 0
28:2/0/texture_origin = Vector2i(-8, 8)
28:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(8, -8, 8, 8, -8, 8, -8, -8)
30:0/size_in_atlas = Vector2i(2, 2)
30:0/0 = 0
30:0/0/texture_origin = Vector2i(-8, 8)
30:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(8, -8, 8, 8, -8, 8, -8, -8)
17:0/size_in_atlas = Vector2i(2, 2)
17:0/0 = 0
17:0/0/texture_origin = Vector2i(8, 8)
17:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(8, -8, 8, 8, -8, 8, -8, -8)
24:13/size_in_atlas = Vector2i(1, 2)
24:13/0 = 0
24:13/0/texture_origin = Vector2i(0, -8)
24:13/0/probability = 0.32
24:13/0/physics_layer_0/polygon_0/points = PackedVector2Array(8, -8, 8, 0, 0, 12, -8, 0, -8, -8)
21:7/size_in_atlas = Vector2i(2, 1)
21:7/0 = 0
21:7/0/texture_origin = Vector2i(8, 0)
21:7/0/physics_layer_0/polygon_0/points = PackedVector2Array(8, -8, 8, 8, -8, 8, -4, 0, -8, -8)
9:4/size_in_atlas = Vector2i(3, 3)
9:4/0 = 0
9:4/0/texture_origin = Vector2i(0, 16)
9:4/0/physics_layer_0/polygon_0/points = PackedVector2Array(8, -8, 8, 8, -8, 8, -8, -8)

[sub_resource type="TileSet" id="TileSet_tipki"]
physics_layer_0/collision_layer = 1
sources/0 = SubResource("TileSetAtlasSource_o6xl0")

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_choun"]

[node name="Main" type="Node"]
script = ExtResource("1_tbgi4")
metadata/_edit_horizontal_guides_ = [180.0]
metadata/_edit_vertical_guides_ = [320.0]

[node name="Player" parent="." instance=ExtResource("1_o5qli")]
position = Vector2(91, 165)

[node name="Camera2D" type="Camera2D" parent="Player"]
process_callback = 0
limit_top = -171
limit_bottom = 190
position_smoothing_enabled = true
rotation_smoothing_enabled = true

[node name="Emoji" type="AnimatedSprite2D" parent="Player"]
position = Vector2(1, -13)
scale = Vector2(0.65, 0.65)
sprite_frames = SubResource("SpriteFrames_85g3d")
animation = &"died"

[node name="Text" type="Panel" parent="Player"]
offset_left = -17.000008
offset_top = -17.000006
offset_right = 85.99999
offset_bottom = 6.9999943
scale = Vector2(0.35, 0.35)

[node name="TextBox" type="Label" parent="Player/Text"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_fonts/font = ExtResource("4_o6xl0")
text = "陌生的天花板"
horizontal_alignment = 1
vertical_alignment = 1

[node name="TextTimer" type="Timer" parent="Player"]
wait_time = 2.0
one_shot = true

[node name="force_core" parent="." instance=ExtResource("4_jyhfs")]
position = Vector2(143, 76)

[node name="TileMapLayer" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAABAAAAAAAYAAkAAAACAAAAAAAYAAsAAAADAAAAAAAYAAsAAAAEAAAAAAAYAAsAAAAFAAAAAAAYAAkAAAAGAAAAAAAYAAsAAAAHAAAAAAAYAAsAAAAIAAAAAAAYAAsAAAAJAAAAAAAYAAsAAAAKAAAAAAAYAAsAAAALAAAAAAAYAAsAAAAMAAAAAAAYAAsAAAANAAAAAAAYAAsAAAAOAAAAAAAYAAsAAAAPAAAAAAAYAAsAAAAQAAAAAAAYAAsAAAARAAAAAAAYAAkAAAASAAAAAAAYAAsAAAATAAAAAAAYAAsAAAAUAAAAAAAYAAsAAAAVAAAAAAAYAAsAAAAWAAAAAAAYAAkAAAAXAAAAAAAYAAsAAAAYAAAAAAAYAAkAAAAZAAAAAAAYAAsAAAAaAAAAAAAYAAsAAAAbAAAAAAAYAAsAAAAcAAAAAAAYAAsAAAAdAAAAAAAYAAsAAAAeAAAAAAAYAAsAAAAfAAAAAAAYAAkAAAAgAAAAAAAYAAsAAAAhAAAAAAAYAAkAAAAAAAsAAAAYAAIAAAABAAsAAAAYAAQAAAACAAsAAAAYAAQAAAADAAsAAAAYAAQAAAAEAAsAAAAYAAQAAAAFAAsAAAAYAAQAAAAGAAsAAAAYAAIAAAAHAAsAAAAYAAIAAAAIAAsAAAAYAAIAAAAJAAsAAAAYAAIAAAAKAAsAAAAYAAQAAAALAAsAAAAYAAIAAAAMAAsAAAAYAAQAAAANAAsAAAAYAAIAAAAOAAsAAAAQAAYAAAAPAAsAAAAOAAgAAAAQAAsAAAAQAAYAAAARAAsAAAAOAAgAAAASAAsAAAAOAAYAAAATAAsAAAAQAAgAAAAUAAsAAAAOAAYAAAAVAAsAAAAQAAYAAAAWAAsAAAAOAAgAAAAXAAsAAAAQAAYAAAAYAAsAAAAOAAgAAAAZAAsAAAAOAAgAAAAaAAsAAAAQAAYAAAAbAAsAAAAOAAgAAAAcAAsAAAAQAAYAAAAdAAsAAAAYAAIAAAAeAAsAAAAYAAQAAAAfAAsAAAAYAAQAAAAgAAsAAAAYAAQAAAAhAAsAAAAYAAQAAAAiAAsAAAAYAAIAAAAjAAsAAAAYAAQAAAAkAAsAAAAYAAIAAAAlAAsAAAAYAAQAAAAmAAsAAAAYAAIAAAAnAAsAAAAYAAQAAAAoAAsAAAAYAAIAAAApAAsAAAAYAAIA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AAAZAAkAAAAOAAYAAAAZAAoAAAAQAAYAAAAaAAkAAAAQAAYAAAAaAAoAAAAOAAYAAAAbAAkAAAAOAAYAAAAbAAoAAAAOAAYAAAAcAAkAAAAOAAYAAAAcAAoAAAAQAAYAAAAgAAgAAAAXAAYAAAAmAAgAAAAXAAYAAAAsAAgAAAAXAAYAAAAyAAgAAAAXAAYAAAAwAAsAAAAOAAgAAAAwAAwAAAAOAAYAAAA1AAsAAAAQAAYAAAA1AAwAAAAOAAYAAAA2AAsAAAAOAAgAAAA2AAwAAAAQAAgAAAA3AAsAAAAOAAgAAAA3AAwAAAAQAAgAAAA4AAsAAAAQAAYAAAA4AAwAAAAQAAYAAAA5AAsAAAAQAAYAAAA5AAwAAAAOAAYAAAA6AAsAAAAOAAYAAAA6AAwAAAAOAAgAAAA7AAsAAAAQAAYAAAA7AAwAAAAQAAYAAAA8AAsAAAAOAAYAAAA8AAwAAAAOAAgAAAA9AAsAAAAQAAYAAAA9AAwAAAAQAAYAAAA+AAsAAAAOAAYAAAA+AAwAAAAOAAgAAAA/AAsAAAAOAAYAAAA/AAwAAAAQAAYAAABAAAsAAAAOAAgAAABAAAwAAAAOAAgAAABBAAsAAAAOAAgAAABBAAwAAAAOAAgAAABCAAsAAAAQAAYAAABCAAwAAAAOAAgAAAA=")
tile_set = SubResource("TileSet_tipki")

[node name="Trap" parent="." instance=ExtResource("7_tipki")]
position = Vector2(313, 120)
spawn_point = ExtResource("9_85g3d")

[node name="DeathZone" parent="." instance=ExtResource("8_85g3d")]
spawn_point = ExtResource("9_85g3d")

[node name="CollisionShape2D" type="CollisionShape2D" parent="DeathZone"]
position = Vector2(85, 287)
shape = SubResource("WorldBoundaryShape2D_choun")

[connection signal="death" from="Trap" to="." method="_on_trap_death"]
